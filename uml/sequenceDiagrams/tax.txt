@startuml
hide circle
skinparam classAttributeIconSize 0

actor Actor
participant ":Quotely"
participant ":QuotelyState"
participant ":Parser"
participant ":QuoteList"
participant ":AddQuoteCommand"
participant ":AddItemCommand"
participant ":Quote"

Actor -> ":Quotely": main()

":Quotely" -> ":QuotelyState" **: getInstance()
activate ":QuotelyState" #Gold
return state:QuotelyState

Actor -> ":Quotely" ++ #FFBBBB: "quote n/01 c/Tom"

":Quotely" -> ":Parser" ++ #Green: parse("quote n/01 c/Tom")


":Parser" -> ":QuotelyState" ++ #Gold: isInsideQuote()
return false

":Parser" -> ":AddQuoteCommand" **: new AddQuoteCommand("01", "Tom")
activate ":AddQuoteCommand" #technology
return command:AddQuoteCommand

return command:AddQuoteCommand

":Quotely" -> ":AddQuoteCommand" ++ #technology: execute(ui, quoteList, companyName, state)

":AddQuoteCommand" -> ":Quote" **: new Quote("01", "Tom")
activate ":Quote" #mistyrose
return quote1:Quote

":AddQuoteCommand" -> ":QuoteList" ++ #DarkSalmon: addQuote(quote1)
return

":AddQuoteCommand" -> ":QuotelyState" ++ #Gold: setInsideQuote(quote1)
return

return

return Success message (quote added)

destroy ":AddQuoteCommand"

Actor -> ":Quotely" ++ #FFBBBB: "add i/Chair p/45.00 q/10 t/5.00"

":Quotely" -> ":Parser" ++ #Green: parse("add i/Chair p/45.00 q/10 t/5.00")

":Parser" -> ":Parser" ++ #lightblue: parseAddItemCommand()
return

":Parser" -> ":Parser" ++ #lightblue: getQuoteFromStateAndName(null, state, quoteList)
":Parser" -> ":QuotelyState" ++ #Gold: getQuoteReference()
return quote1:Quote

return quote1:Quote

":Parser" -> ":AddItemCommand" **: new AddItemCommand("Chair", quote1, 45.00, 10, 5.00)
activate ":AddItemCommand" #skyblue
return command:AddItemCommand

return command:AddItemCommand

":Quotely" -> ":AddItemCommand" ++ #skyblue: execute(ui, quoteList, companyName, state)

":AddItemCommand" -> ":Quote" ++ #mistyrose: addItem("Chair", 45.00, 10, 5.00)
":Quote" -> ":Item" **: new Item(...)
activate ":Item" #slateblue
return item:Item
return
return

return Success message (item added)

destroy ":AddItemCommand"

@enduml